---
nav_group: "차트 가이드"
nav_order: 1
title: "Bar Chart"
description: "막대 차트 생성 및 커스터마이징 가이드"
---

# Bar Chart

막대 차트는 범주형 데이터를 비교하는데 가장 효과적인 차트입니다. Headless Chart의 Bar Chart는 완전한 커스터마이징이 가능합니다.

## 기본 사용법

### 간단한 예제

```javascript
import Widget from '@meursyphus/flitter-react';
import { BarChart } from '@meursyphus/headless-chart';

const data = {
  labels: ['1월', '2월', '3월', '4월', '5월'],
  datasets: [{
    legend: '매출액',
    values: [120, 190, 300, 250, 420]
  }]
};

function BasicBarChart() {
  return (
    <Widget 
      width="600px" 
      height="400px" 
      widget={BarChart({ data })} 
    />
  );
}
```

### 다중 데이터셋

여러 데이터를 비교할 때:

```javascript
const data = {
  labels: ['Q1', 'Q2', 'Q3', 'Q4'],
  datasets: [
    {
      legend: '2023년',
      values: [250, 300, 280, 350]
    },
    {
      legend: '2024년',
      values: [300, 340, 320, 400]
    }
  ]
};

const chart = BarChart({ 
  data,
  title: '분기별 실적 비교'
});
```

## API 참조

### Props 인터페이스

```typescript
interface BarChartProps {
  // 필수
  data: BarChartData;
  
  // 선택
  custom?: Partial<BarChartCustom>;
  title?: string;
  direction?: 'vertical' | 'horizontal';
  getScale?: (data: BarChartData) => BarChartScale;
}

// 데이터 타입
type BarChartData = {
  labels: string[];
  datasets: {
    legend: string;
    values: number[];
  }[];
};

// 스케일 타입
type BarChartScale = {
  min: number;
  max: number;
  step: number;
};
```

## 방향 설정

### 수평 막대 차트

```javascript
const horizontalChart = BarChart({
  data,
  direction: 'horizontal'  // 기본값: 'vertical'
});
```

## 커스터마이징

### 1. 막대 스타일 커스터마이징

```javascript
import { Container, BoxDecoration, EdgeInsets, BorderRadius } from '@meursyphus/flitter';

const chart = BarChart({
  data,
  custom: {
    bar: ({ value, label, legend, index }) => {
      const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444'];
      
      return Container({
        width: Infinity,
        height: Infinity,
        margin: EdgeInsets.symmetric({ horizontal: 4 }),
        decoration: new BoxDecoration({
          color: colors[index % colors.length],
          borderRadius: BorderRadius.only({
            topLeft: 8,
            topRight: 8
          }),
          boxShadow: [{
            color: 'rgba(0, 0, 0, 0.1)',
            blurRadius: 4,
            offset: { x: 0, y: -2 }
          }]
        })
      });
    }
  }
});
```

### 2. 그라데이션 막대

```javascript
const gradientBar = ({ value, datasetIndex }) => {
  const gradients = [
    { start: '#667eea', end: '#764ba2' },
    { start: '#f093fb', end: '#f5576c' },
    { start: '#4facfe', end: '#00f2fe' }
  ];
  
  const { start, end } = gradients[datasetIndex] || gradients[0];
  
  return Container({
    width: Infinity,
    height: Infinity,
    margin: EdgeInsets.symmetric({ horizontal: 2 }),
    decoration: new BoxDecoration({
      gradient: {
        type: 'linear',
        colors: [start, end],
        begin: { x: 0, y: 1 },
        end: { x: 0, y: 0 }
      },
      borderRadius: BorderRadius.circular(4)
    })
  });
};
```

### 3. 데이터 라벨 추가

```javascript
import { Stack, Positioned, Text, TextStyle } from '@meursyphus/flitter';

const chart = BarChart({
  data,
  custom: {
    bar: ({ value }) => Stack({
      children: [
        // 막대
        Container({
          width: Infinity,
          height: Infinity,
          color: '#3b82f6'
        }),
        // 데이터 라벨
        Positioned({
          top: -20,
          left: 0,
          right: 0,
          child: Center({
            child: Text(value.toString(), {
              style: new TextStyle({
                fontSize: 12,
                fontWeight: 'bold',
                color: '#1f2937'
              })
            })
          })
        })
      ]
    })
  }
});
```

### 4. 커스텀 축

```javascript
const chart = BarChart({
  data,
  custom: {
    // X축 레이블 회전
    xAxisLabel: ({ name }) => Transform.rotate({
      angle: -45 * Math.PI / 180,
      child: Container({
        padding: EdgeInsets.all(4),
        child: Text(name, {
          style: new TextStyle({
            fontSize: 11,
            color: '#6b7280'
          })
        })
      })
    }),
    
    // Y축 포맷팅
    yAxisLabel: ({ name }) => {
      const formatted = Number(name).toLocaleString('ko-KR');
      return Text(`${formatted}원`, {
        style: new TextStyle({
          fontSize: 10,
          color: '#6b7280'
        })
      });
    }
  }
});
```

### 5. 커스텀 레이아웃

```javascript
const customLayout = ({ title, legends, plot }) => {
  return Container({
    padding: EdgeInsets.all(24),
    decoration: new BoxDecoration({
      color: '#ffffff',
      borderRadius: BorderRadius.circular(12),
      boxShadow: [{
        color: 'rgba(0, 0, 0, 0.05)',
        blurRadius: 20,
        offset: { x: 0, y: 10 }
      }]
    }),
    child: Column({
      children: [
        // 헤더
        Row({
          mainAxisAlignment: MainAxisAlignment.spaceBetween,
          children: [
            title,
            Container({
              padding: EdgeInsets.symmetric({ horizontal: 12, vertical: 6 }),
              decoration: new BoxDecoration({
                color: '#f3f4f6',
                borderRadius: BorderRadius.circular(20)
              }),
              child: Row({
                children: legends
              })
            })
          ]
        }),
        
        SizedBox({ height: 24 }),
        
        // 차트
        Expanded({ child: plot })
      ]
    })
  });
};
```

## 실전 예제

### 1. Chart.js 스타일

```javascript
const chartjsStyle = BarChart({
  data,
  custom: {
    bar: ({ label }) => {
      const index = data.labels.indexOf(label);
      const backgroundColors = [
        'rgba(255, 99, 132, 0.2)',
        'rgba(54, 162, 235, 0.2)',
        'rgba(255, 206, 86, 0.2)',
        'rgba(75, 192, 192, 0.2)',
        'rgba(153, 102, 255, 0.2)'
      ];
      const borderColors = [
        'rgb(255, 99, 132)',
        'rgb(54, 162, 235)',
        'rgb(255, 206, 86)',
        'rgb(75, 192, 192)',
        'rgb(153, 102, 255)'
      ];
      
      return Container({
        width: Infinity,
        height: Infinity,
        margin: EdgeInsets.symmetric({ horizontal: 8 }),
        decoration: new BoxDecoration({
          color: backgroundColors[index % backgroundColors.length],
          border: new Border({
            left: new BorderSide({ 
              color: borderColors[index % borderColors.length], 
              width: 1 
            }),
            right: new BorderSide({ 
              color: borderColors[index % borderColors.length], 
              width: 1 
            }),
            top: new BorderSide({ 
              color: borderColors[index % borderColors.length], 
              width: 1 
            }),
            bottom: BorderSide.none()
          })
        })
      });
    }
  }
});
```

### 2. 인터랙티브 차트

```javascript
import { MouseRegion } from '@meursyphus/flitter';
import { useState } from 'react';

function InteractiveBarChart() {
  const [hoveredBar, setHoveredBar] = useState(null);
  const [selectedBars, setSelectedBars] = useState(new Set());
  
  const chart = BarChart({
    data,
    custom: {
      bar: ({ value, label, legend }) => {
        const key = `${label}-${legend}`;
        const isHovered = hoveredBar === key;
        const isSelected = selectedBars.has(key);
        
        return MouseRegion({
          onEnter: () => setHoveredBar(key),
          onExit: () => setHoveredBar(null),
          cursor: 'pointer',
          child: GestureDetector({
            onTap: () => {
              const newSelected = new Set(selectedBars);
              if (isSelected) {
                newSelected.delete(key);
              } else {
                newSelected.add(key);
              }
              setSelectedBars(newSelected);
            },
            child: Container({
              width: Infinity,
              height: Infinity,
              margin: EdgeInsets.symmetric({ horizontal: 2 }),
              decoration: new BoxDecoration({
                color: isSelected ? '#2563eb' : '#3b82f6',
                borderRadius: BorderRadius.circular(4),
                border: isHovered ? 
                  Border.all({ color: '#1e40af', width: 2 }) : 
                  null
              }),
              transform: isHovered ? 'scale(1.05)' : 'scale(1)',
              transition: 'all 0.2s ease'
            })
          })
        });
      }
    }
  });
  
  return (
    <>
      <Widget width="100%" height="400px" widget={chart} />
      {hoveredBar && (
        <div>호버된 막대: {hoveredBar}</div>
      )}
      {selectedBars.size > 0 && (
        <div>선택된 막대: {Array.from(selectedBars).join(', ')}</div>
      )}
    </>
  );
}
```

### 3. 애니메이션 막대

```javascript
const animatedBar = ({ value, index }) => {
  return AnimatedContainer({
    duration: Duration({ milliseconds: 300 + index * 100 }),
    curve: Curves.easeOutCubic,
    width: Infinity,
    height: Infinity,
    decoration: new BoxDecoration({
      color: '#3b82f6',
      borderRadius: BorderRadius.circular(4)
    })
  });
};
```

## 스케일 커스터마이징

### 고정 스케일

```javascript
const chart = BarChart({
  data,
  getScale: () => ({
    min: 0,
    max: 1000,
    step: 100
  })
});
```

### 동적 스케일

```javascript
const chart = BarChart({
  data,
  getScale: ({ datasets }) => {
    const allValues = datasets.flatMap(d => d.values);
    const maxValue = Math.max(...allValues);
    const padding = maxValue * 0.1;
    
    return {
      min: 0,
      max: Math.ceil((maxValue + padding) / 100) * 100,
      step: Math.ceil(maxValue / 5 / 10) * 10
    };
  }
});
```

## 접근성

### ARIA 레이블 추가

```javascript
const accessibleBar = ({ value, label, legend }) => {
  return Semantics({
    label: `${label} ${legend}: ${value}`,
    child: Container({
      width: Infinity,
      height: Infinity,
      color: '#3b82f6'
    })
  });
};
```

## 팁과 모범 사례

1. **색상 일관성**: 데이터셋별로 일관된 색상 사용
2. **간격 조정**: 막대 사이 적절한 간격 유지
3. **레이블 가독성**: 긴 레이블은 회전하거나 축약
4. **반응형 디자인**: 화면 크기에 따른 동적 조정
5. **성능**: 많은 데이터는 가상화 고려

## 다음 단계

Bar Chart를 마스터했다면, [Line Chart](./02.line-chart.mdx)로 넘어가 시계열 데이터를 표현해보세요.